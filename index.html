<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyHack - Трекер учебных целей</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
</head>
<body>
    <div class="wrap">
        <header>
            <div class="logo">StudyHack</div>
            <div class="auth-buttons">
                <button class="auth-btn">Войти</button>
                <button class="auth-btn accent">Зарегистрироваться</button>
            </div>
        </header>

        <div class="toolbar">
            <button id="addTaskBtn" class="main-btn">+ Новая задача</button>
            <button id="toggleAllBtn" class="collapse-btn">Свернуть все</button>
        </div>

        <!-- Модальное окно -->
        <div id="taskModal" class="modal">
            <div class="modal-content">
                <h3>Новая задача</h3>
                <form id="taskForm">
                    <input type="text" class="modal-input" id="taskTitle" placeholder="Название цели" required>
                    <textarea class="modal-textarea" id="taskDescription" placeholder="Описание (необязательно)"></textarea>
                    
                    <div id="subtasksContainer">
                        <input type="text" class="modal-input subtask" placeholder="Подзадача" required>
                    </div>
                    <button type="button" id="addSubtaskBtn" class="modal-btn cancel" style="width: 100%; margin-bottom: 12px;">+ Добавить подзадачу</button>
                    
                    <div class="modal-row">
                        <div class="modal-field">
                            <label>Дедлайн</label>
                            <input type="date" class="modal-input" id="taskDeadline" required>
                        </div>
                        <div class="modal-field">
                            <label>Приоритет</label>
                            <select class="modal-select" id="taskPriority" required>
                                <option value="low">Низкий</option>
                                <option value="medium">Средний</option>
                                <option value="high">Высокий</option>
                                <option value="urgent">Срочный</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button type="button" id="cancelBtn" class="modal-btn cancel">Отмена</button>
                        <button type="submit" class="modal-btn create">Создать</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="columns">
            <div class="column" id="backlog-board">
                <h2>Бэклог</h2>
                <div class="tasks-container" id="backlog-tasks"></div>
            </div>
            
            <div class="column" id="progress-board">
                <h2>В работе</h2>
                <div class="tasks-container" id="progress-tasks"></div>
            </div>
            
            <div class="column" id="completed-board">
                <h2>Завершено</h2>
                <div class="tasks-container" id="completed-tasks"></div>
            </div>
        </div>

        <footer>
            StudyHack © 2024 - Трекер учебных целей
        </footer>
    </div>

    <script type="module" src="src/main.js"></script>
<!-- Индикатор загрузки -->
<div id="loading" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    display: none;
">
    <div style="
        background: var(--card);
        padding: 2rem;
        border-radius: 12px;
        text-align: center;
    ">
        <div style="
            width: 40px;
            height: 40px;
            border: 3px solid var(--accent);
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        "></div>
        <p>Подключаемся к MockAPI...</p>
        <small style="color: var(--muted);" id="apiStatus">Статус: Ожидание</small>
    </div>
</div>

<style>
    @keyframes spin {
        to { transform: rotate(360deg); }
    }
</style>
</body>
</html>